{% extends "../layout.njk" %}

{% block content %}

<div class="details">

    <div class="lightbox">
        <img src="{{ files[0].src }}" alt="{{ files[0].name }}">

        <a 
            href="#" 
            class="lightbox-close"
            onclick="Lightbox.close()"
        >
            <i class="material-icons">close</i>
        </a>
    </div>

    <div class="photos">
    
        <img 
            src="{{ files[0].src }}" 
            alt="{{ recipe.title }}" 
            class="highlight"
            onclick="Lightbox.open()"
        >

        {% if files %}
        <div class="gallery-photos">
            
            {% for image in files %}

            <img 
                src="{{ image.src }}" 
                alt="{{ image.name }}"
                onclick="ImageGallery.setImage(event)"
                {% if loop.index0 == 0 %} 
                class="image-active" 
                {% endif %}
            >

            {% endfor %}
            
        </div>
        {% endif %}

    </div>
    
    <h1>{{ recipe.title }}</h1>
    <p>por {{ recipe.chef_name }}</p>
    
    <div class="recipe-information">
        <div class="recipe-information-title">
            <h2>
                <span>
                    <img src="/assets/icons/ingredients.svg" alt="Ingredientes">
                </span>
                Ingredientes
            </h2>
            <a class="show-and-hide">Esconder</a>
        </div>
        
        <ul class="visible">
            {% for ingredient in recipe.ingredients %}
            <li>{{ingredient}}</li>
            {% endfor %}
        </ul>
    </div>
    
    <div class="recipe-information">
        <div class="recipe-information-title">
            <h2>
                <span>
                    <img src="/assets/icons/preparation.svg" alt="Modo de preparo">
                </span>
                Modo de preparo
            </h2>
            <a class="show-and-hide">Esconder</a>
        </div>
        
        <ul class="visible">
            {% for step in recipe.preparation %}
            <li>{{step}}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="recipe-information">
        <div class="recipe-information-title">
            <h2>
                <span>
                    <img src="/assets/icons/information.svg" alt="Informações adicionais">
                </span>
                Informações adicionais
            </h2>
            <a class="show-and-hide">Esconder</a>
        </div>

        <p class="visible">{{ recipe.information }}</p>
    </div>
    
</div>

{% block scripts %}

<script src="/scripts/showAndHide.js"></script>
<script src="/scripts/scripts.js"></script>

{% endblock scripts %}

{% endblock content %}
