{% extends "../layout.njk" %}

{% block content %}

<div class="details">

    <div class="page-header">
        <h2>
            Receita: {{ recipe.title }} 
            <span>
                <i class="material-icons">restaurant</i>
            </span>
        </h2>

        <a href="/admin/recipes/{{ recipe.id }}/edit" class="button">Editar receita</a>
    </div>

    <div class="lightbox">
        <img src="{{ files[0].src }}" alt="{{ files[0].name }}">

        <a 
            href="#" 
            class="lightbox-close"
            onclick="Lightbox.close()"
        >
            <i class="material-icons">close</i>
        </a>
    </div>

    <div class="photos">
    
        <img 
            src="{{ files[0].src }}" 
            alt="{{ recipe.title }}" 
            class="highlight"
            onclick="Lightbox.open()"
        >

        {% if files %}
        <div class="gallery-photos">
            
            {% for image in files %}

            <img 
                src="{{ image.src }}" 
                alt="{{ image.name }}"
                onclick="ImageGallery.setImage(event)"
                {% if loop.index0 == 0 %} 
                class="image-active" 
                {% endif %}
            >

            {% endfor %}
            
        </div>
        {% endif %}

    </div>

    <div class="recipe-information">
        <h2>Ingredientes</h2>
        <ul>
            {% for ingredient in recipe.ingredients %}
                <li> - {{ ingredient }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="recipe-information">
        <h2>Modo de preparo</h2>
        <ul>
            {% for step in recipe.preparation %}
                <li> - {{ step }}</li>
            {% endfor %}
        </ul>
    </div>

    <div class="recipe-information">
        <h2>Informações adicionais</h2>
        <p>{{ recipe.information }}</p>
    </div>

</div>

{% endblock content %}